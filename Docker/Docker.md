# Docker

## docker 预热

主要分为两部分

1. 镜像预拉取
   
类的下载需要一定的网络资源，较为耗时，可以使用一些方案来预先拉取对应主机中的需要部署的镜像。

2. 新启动服务刚开始运行的过程

服务刚启动时，有些类可能需要实例化，有些资源需要进行首次加载，均属于耗时操作，如果刚启动起来就大流量打到新起服务中的话，有可能压垮服务，这里可以采用加权的方式分配流量，依照启动时间的长短来按比例分配到达该服务的流量。

## Docker 原理

基于操作系统之上的轻量级虚拟机, 可以理解为是一种被限制了的特殊进程

### 优势

1. 模块化
2. 层和镜像的版本控制
3. 回滚 (镜像拥有多层, 可以回滚)
4. 快速部署

## Docker 对比虚拟机

- 虚拟机

软件模拟硬件输入输出，使操作系统从硬件层面运行起来的机制。独立内核，文件进程等系统。

启动慢，效率低，安全性高

- Docker

操作系统层虚拟化，与宿主机共享内核，共享文件进程等， 但容器中看不到宿主机的文件进程信息。

资源消耗少，启动快。

